<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/selectExercise.css">
    <link rel="stylesheet" href="/navbar.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Winky+Rough:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">
</head>
<body>
    <div class="container"><%- include('partials/navbar') %> </div> 

<div class="main-content">
    <a href="/back" class="back-button">
        <img src="/images/back.png" alt="Back" class="back-icon">
      </a>
  <div class="welcome-text">Select An Exercise</div>
  


  <div class="routine-container">
    <div class="filters">
  <select id="categoryFilter" class="filter-dropdown">
    <option value="">All Categories</option>
    <option value="Strength">Strength</option>
    <option value="Cardio">Cardio</option>
  </select>

  <select id="muscleGroupFilter" class="filter-dropdown">
    <option value="">All Muscle Groups</option>
    <option value="Arms">Arms</option>
    <option value="Back">Back</option>
    <option value="Chest">Chest</option>
    <option value="Core">Core</option>
    <option value="Full Body">Full Body</option>
    <option value="Legs">Legs</option>
    <option value="Shoulders">Shoulders</option>
  </select>

  <select id="equipmentFilter" class="filter-dropdown">
    <option value="">All Equipment</option>
    <option value="true">Requires Equipment</option>
    <option value="false">No Equipment</option>
  </select>
</div>
    <div class="routine-list-container">
        <div class="exercise-list">
          <% exercises.forEach(function(exercise) { %>
            <a href="/addExercise?exercise=<%= encodeURIComponent(exercise.name) %>">
              <div class="exercise-item">
                  <div class="exercise-name"><%= exercise.name %></div>
                  <div class="exercise-add">
                      <img src="/images/plus.png" class="plus-icon">
                  </div>
              </div>
            </a>
          <% }); %>

        </div>
    </div>
</div>
  
<script id="exercise-data" type="application/json">
  <%- JSON.stringify(exercises) %>
</script>

<script>
  //Read all of the exercises and store them as a JSON for sorting
  const allExercises = JSON.parse(document.getElementById('exercise-data').textContent)
  
  //Set the exercise list as a variable so we can dynamically manipulate it's contents
  const exerciseList = document.querySelector('.exercise-list');


  function renderExercises(exercises){
    exerciseList.innerHTML = ''
    exercises.forEach( exercise => {
      const exerciseElement = document.createElement('a');
      exerciseElement.href = `/addExercise?exercise=${encodeURIComponent(exercise.name)}`
      exerciseElement.innerHTML = 
      `
      <div class="exercise-item">
                  <div class="exercise-name">${exercise.name}</div>
                  <div class="exercise-add">
                      <img src="/images/plus.png" class="plus-icon">
                  </div>
              </div>
      `
      exerciseList.appendChild(exerciseElement);
    });

  }

  function applyFilters(){
    const category = document.getElementById('categoryFilter').value;
    const filteredResults = allExercises.filter(exercise =>{
        return exercise.category == category
      });

      renderExercises(filteredResults)
    }
    
  
// If any of the filter categories are selected, call the applyFilters function
  document.getElementById('categoryFilter').addEventListener('change', applyFilters);
  document.getElementById('muscleGroupFilter').addEventListener('change', applyFilters);
  document.getElementById('equipmentFilter').addEventListener('change', applyFilters);

</script>
When a filter is applied 

I want to grab the value of each of the filter options
using the value, filter out all that are included

then call the function to

I want to call a function that clears the list
Then it will populate the list with the filtered results


<!-- <script>
const allExercises = JSON.parse(document.getElementById('exercise-data').textContent);

  const exerciseListEl = document.querySelector('.exercise-list');

  function renderExercises(exercises) {
    exerciseListEl.innerHTML = '';
    exercises.forEach(ex => {
      const item = document.createElement('a');
      item.href = `/addExercise?exercise=${encodeURIComponent(ex.name)}`;
      item.innerHTML = `
        <div class="exercise-item">
          <div class="exercise-name">${ex.name}</div>
          <div class="exercise-add">
              <img src="/images/plus.png" class="plus-icon">
          </div>
        </div>
      `;
      exerciseListEl.appendChild(item);
    });
  }

  function applyFilters() {
    const category = document.getElementById('categoryFilter').value;
    const muscle = document.getElementById('muscleGroupFilter').value;
    const equipment = document.getElementById('equipmentFilter').value;

    const filtered = allExercises.filter(ex => {
      return (!category || ex.category === category)
        && (!muscle || ex.muscleGroup === muscle)
        && (equipment === "" || String(ex.equipmentRequired) === equipment);
    });

    renderExercises(filtered);
  }

  document.getElementById('categoryFilter').addEventListener('change', applyFilters);
  document.getElementById('muscleGroupFilter').addEventListener('change', applyFilters);
  document.getElementById('equipmentFilter').addEventListener('change', applyFilters);

  // Initial render
  renderExercises(allExercises);
</script> -->

</body>
</html>