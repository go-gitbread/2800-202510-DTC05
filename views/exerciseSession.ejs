<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exercise Session</title>
  <link rel="stylesheet" href="/navbar.css">
  <link rel="stylesheet" href="/weather.css">
  <link rel="stylesheet" href="/exerciseSession.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Winky+Rough&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Winky Rough', sans-serif;
      background-color: #CAD5E1;
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      margin: 45px 0 20px;
      background: #fff;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .header-item {
      text-align: center;
      flex: 1;
      border-right: 1px solid #ccc;
    }

    .header-item:last-child {
      border-right: none;
    }

    .header-item h4 {
      margin: 0;
      font-size: 0.9rem;
    }

    .header-item p {
      margin: 5px 0 0;
      font-weight: bold;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .exercise {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #fff;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      cursor: pointer;
    }

    .icon {
      width: 40px;
      height: 40px;
      background: #ddd;
      margin-right: 10px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .exercise-name {
      flex-grow: 1;
      font-size: 1rem;
    }

    .arrow {
      font-weight: bold;
      font-size: 1.2rem;
    }

    .finish-btn {
      display: block;
      width: 100%;
      padding: 12px;
      background: #4CAF50;
      color: white;
      text-align: center;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 30px;
    }

    .finish-btn:hover {
      background: #45a049;
    }

    .set-entry {
      display: flex;
      justify-content: space-between;
      background: #fff;
      padding: 10px;
      border-radius: 10px;
      margin-bottom: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .set-entry div {
      flex: 1;
      text-align: center;
    }

    .set-entry input {
      width: 50px;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      text-align: center;
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
    }

    .btn {
      flex: 1;
      padding: 12px;
      margin: 0 5px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
    }

    .btn-add {
      background: #2196F3;
      color: white;
    }

    .btn-finish {
      background: #4CAF50;
      color: white;
    }

    .btn:hover {
      opacity: 0.9;
    }
  </style>
</head>
<body>

  <%- include('partials/navbar') %>

  <div class="header">
    <div class="header-item">
      <h4>Total Duration</h4>
      <p>00:12</p>
    </div>
    <div class="header-item">
      <h4>XP Gained</h4>
      <p>100</p>
    </div>
    <div class="header-item">
      <h4>Rest Timer</h4>
      <p>01:00</p>
    </div>
  </div>

   <h2 class="mb-4"><%= routine.routineName %></h2>

<div id="exercise-list">
  <% routine.exercises.forEach(exercise => { %>
    <div class="exercise" onclick="startExercise('<%= exercise %>')">
      <div class="icon">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
      <div class="exercise-name"><%= exercise %></div>
      <div class="arrow">‚Ä∫</div>
    </div>
  <% }); %>

    <button class="finish-btn">Finish Workout</button>
  </div>

  <div id="exercise-detail" style="display: none;">
    <h2 id="exercise-title">Exercise</h2>

    <div class="set-entry">
      <div>Set 1</div>
      <div><input type="number" value="10"> reps</div>
      <div><input type="number" value="20"> lbs</div>
    </div>

    <div class="set-entry">
      <div>Set 2</div>
      <div><input type="number" value="10"> reps</div>
      <div><input type="number" value="25"> lbs</div>
    </div>

    <div class="set-entry">
      <div>Set 3</div>
      <div><input type="number" value="9"> reps</div>
      <div><input type="number" value="20"> lbs</div>
    </div>

    <div class="buttons">
      <button class="btn btn-add">+ New Set</button>
      <button class="btn btn-finish" onclick="finishExercise()">Finish Exercise</button>
    </div>
  </div>

  <script>
    function startExercise(name) {
      document.getElementById('exercise-title').textContent = name;
      document.getElementById('exercise-list').style.display = 'none';
      document.getElementById('exercise-detail').style.display = 'block';
    }

    function finishExercise() {
      document.getElementById('exercise-detail').style.display = 'none';
      document.getElementById('exercise-list').style.display = 'block';
    }
  </script>

</body>
</html>

  <!-- <div class="container mt-5 pt-5 text-center">
    <h2 class="mb-4">Exercise Session: <%= routine.routineName %></h2>

    <button id="show-form-btn" class="btn btn-dark mb-4">+ Add Workout Record</button> -->
    <!-- <form id="exercise-form" action="/routine/<%= routine._id || '000000000000000000000000' %>/session" method="POST" style="display: none;" class="exercise-form mx-auto">
      <div class="form-group">
        <label for="exercise">Exercise</label>
        <select name="exercise" id="exercise" class="form-control" required>
          <option value="">-- Select --</option>
          <% routine.exercises.forEach(exercise => { %>
            <option value="<%= exercise %>"><%= exercise %></option>
          <% }); %>
        </select>
      </div>
      <div class="form-group">
        <label>Sets</label>
        <input type="number" name="sets" class="form-control" min="1">
      </div>
      <div class="form-group">
        <label>Reps</label>
        <input type="number" name="reps" class="form-control" min="1">
      </div>
      <div class="form-group">
        <label>Duration (min)</label>
        <input type="number" name="duration" class="form-control" min="1">
      </div>
      <button type="submit" class="btn btn-primary w-100 mt-3">Add Record</button>
    </form>

    <div class="workout-log mt-5">
      <h4>Workout Log</h4>
      <% if (workouts.length === 0) { %>
        <p>No records yet.</p>
      <% } else { %>
        <ul class="list-group">
          <% workouts.forEach(w => { %>
            <li class="list-group-item">
              <strong><%= w.exercise %></strong> ‚Äî
              <%= w.sets || '‚Äì' %> sets √ó <%= w.reps || '‚Äì' %> reps,
              <%= w.duration || '0' %> min
            </li>
          <% }); %>
        </ul>
      <% } %>
    </div>
  </div>

  <script>
    document.getElementById("show-form-btn").addEventListener("click", () => {
      document.getElementById("exercise-form").style.display = "block";
    });
  </script> -->

</body>
</html>